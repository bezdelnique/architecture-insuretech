**Определите стратегию масштабирования и отказоустойчивости.**  
Горизонтальное масштабирование позволит адаптировать архитектуру под возможность расширения в дальнейшем. Требование 99.99% требует создание нескольких зон. Можно начать с двух.

HPA – внутри каждой из машин. Сервисы задублированы в рамках каждой площадки на разных VM на  физически разных машинах.

**Проработайте конфигурацию развёртывания приложения в Kubernetes.**  
Я буду использовать два кластера для ЦОД. Задачи географического распределения нет, клиенты Россия. С растянутым кластером возможны сбои из-за проблем сети. Управление двумя кластерами требует больше усилий, но практика GitOps делающая эту работу проще. Каждая площадка содержат полный набор данных.

**Спланируйте балансировку нагрузки.**  
Входящий трафик балансируется между  двумя площадками на уровне короткоживущей записи DNS. Внутри площадок трафик принимает задублированный HAPproxy.

**Определите наиболее подходящую фейловер-стратегию.**  
Для компонент системы стратегия Active-Active с запасом производительности на случай выхода компоненты из строя.


d. **Определите конфигурацию базы данных.**  
PostgeSQL Patroni позволяет решить задачу репликации.  На схеме не отразил всю связанность компонент, но показал их наличие. WAL репликация с дублированием БД на каждой площадке.

**Определите, будете ли вы применять шардирование БД.**  
Пока выглядит так что шардирование не нужно, данных не должно быть больше ресурсов сервера БД. Потенциально данные можно поделить по партнерам.